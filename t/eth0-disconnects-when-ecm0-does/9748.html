<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Eth0 disconnects when ecm0 does - mangOH forum</title>
    <meta name="description" content="We have a custom board that uses the WP7603 that has an Ethernet port implemented using the Mangoh Green design, and find whenever ecm0 is disconnected eth0 connectivity is lost also. HSIC is enabled (we can see that usi&amp;hellip;">
    <meta name="generator" content="Discourse 3.2.0.beta2-dev - https://github.com/discourse/discourse version 11176407155714e2ebc3885a5f3301a2b4d37c5b">
<link rel="icon" type="image/png" href="https://global.discourse-cdn.com/business6/uploads/mangoh/optimized/1X/c8f691ef20d8b5ee5eb3e88daa9a37267fd8b5c6_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://global.discourse-cdn.com/business6/uploads/mangoh/optimized/1X/c9436805837dffdd4ff80102c98ca366d74fee66_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748" />

<link rel="search" type="application/opensearchdescription+xml" href="https://forum.mangoh.io/opensearch.xml" title="mangOH forum Search">

    <link href="https://sea2.discourse-cdn.com/business6/stylesheets/color_definitions_mangoh-color-scheme_1_1_22c40ac3b958048f5d2773ba7c6e0a583de42cca.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/desktop_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/checklist_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-adplugin_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-adplugin"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-akismet_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-akismet"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-cakeday_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-cakeday"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-data-explorer_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-data-explorer"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-details_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-footnote_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-footnote"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-lazy-videos_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-local-dates_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-narrative-bot_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-policy_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-policy"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-post-voting_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-post-voting"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-presence_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-solved_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-solved"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-spoiler-alert_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-spoiler-alert"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-templates_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-templates"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-topic-voting_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/hosted-site_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="hosted-site"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/poll_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-post-voting_desktop_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-post-voting_desktop"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/discourse-topic-voting_desktop_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/poll_desktop_fbfeae940828649b0abf03cf5cf6eebbf6949dd1.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://sea2.discourse-cdn.com/business6/stylesheets/desktop_theme_1_ab9b3e277688d87911f25cd6e1b20eb3d4321381.css?__ws=forum.mangoh.io" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="1" data-theme-name="mangoh"/>

    
    <meta id="data-ga-universal-analytics" data-tracking-code="UA-718568-6" data-json="{&quot;cookieDomain&quot;:&quot;mangoh.io&quot;}" data-auto-link-domains="">

  <link rel="preload" href="https://global.discourse-cdn.com/business6/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.br.js" as="script">
<script defer src="https://global.discourse-cdn.com/business6/assets/google-universal-analytics-v3-08add7ec997ab472fcd9f821d32ff7caf4b8b9a5de2ec18ca723a040be07a098.br.js"></script>


        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Eth0 disconnects when ecm0 does&#39;" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748.rss" />
    <meta property="og:site_name" content="mangOH forum" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/3a6474224b6583b6512ef6a5cd02d7d66cc320b7.png" />
<meta property="og:image" content="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/3a6474224b6583b6512ef6a5cd02d7d66cc320b7.png" />
<meta property="og:url" content="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748" />
<meta name="twitter:url" content="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748" />
<meta property="og:title" content="Eth0 disconnects when ecm0 does" />
<meta name="twitter:title" content="Eth0 disconnects when ecm0 does" />
<meta property="og:description" content="We have a custom board that uses the WP7603 that has an Ethernet port implemented using the Mangoh Green design, and find whenever ecm0 is disconnected eth0 connectivity is lost also. HSIC is enabled (we can see that using AT!CUSTOM) so that’s not the issue.  Viewing kernel messages via dmesg it seems to be a power issue, with USB going into low power mode and eth0 being lost as a result (or side effect). Kernel messages are below. Note the messages marked as logged while USB is unplugged occur ..." />
<meta name="twitter:description" content="We have a custom board that uses the WP7603 that has an Ethernet port implemented using the Mangoh Green design, and find whenever ecm0 is disconnected eth0 connectivity is lost also. HSIC is enabled (we can see that using AT!CUSTOM) so that’s not the issue.  Viewing kernel messages via dmesg it seems to be a power issue, with USB going into low power mode and eth0 being lost as a result (or side effect). Kernel messages are below. Note the messages marked as logged while USB is unplugged occur ..." />
<meta property="article:published_time" content="2021-11-06T20:09:22+00:00" />
<meta property="og:ignore_canonical" content="true" />


    <script type="application/ld+json">{"@context":"http://schema.org","@type":"QAPage","name":"Eth0 disconnects when ecm0 does","mainEntity":{"@type":"Question","name":"Eth0 disconnects when ecm0 does","text":"We have a custom board that uses the WP7603 that has an Ethernet port implemented using the Mangoh Green design, and find whenever ecm0 is disconnected eth0 connectivity is lost also. HSIC is enabled (we can see that using AT!CUSTOM) so that’s not the issue.\n\nViewing kernel messages via dmesg it see&hellip;","upvoteCount":0,"answerCount":0,"dateCreated":"2021-11-06T20:09:22.351Z","author":{"@type":"Person","name":"David Keenleyside"}}}</script>
  </head>
  <body class="crawler ">
    <!--
<div id="navmenucontainer" class="container">
<div id="navmenuv">
    <ul class="nav">
      <li><a href="http://mangoh.io/">Project mangOH</a></li>
      <li><a href="http://mangoh.io/mango-green.html">mangOH Green</a></li>
      <li><a href="http://mangoh.io/buy-mangoh.html">Buy</a></li>
      <li><a href="http://mangoh.io/build-your-own.html">Build your own</a></li>
    </ul>
</div>
</div>
-->
    <header>
  <a href="/">
    mangOH forum
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="/t/eth0-disconnects-when-ecm0-does/9748">Eth0 disconnects when ecm0 does</a>
    </h1>


  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Eth0 disconnects when ecm0 does'>
        <meta itemprop='articleSection' content='Uncategorized'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='mangOH forum'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/284b9ca2de433d1cdfe5448455df1b398c8cc9c8.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/davidkeenleyside'><span itemprop='name'>davidkeenleyside</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-06T20:09:22Z' class='post-time'>
                    November 6, 2021,  8:09pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-06T20:09:22Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>We have a custom board that uses the WP7603 that has an Ethernet port implemented using the Mangoh Green design, and find whenever ecm0 is disconnected eth0 connectivity is lost also. HSIC is enabled (we can see that using AT!CUSTOM) so that’s not the issue.</p>
<p>Viewing kernel messages via dmesg it seems to be a power issue, with USB going into low power mode and eth0 being lost as a result (or side effect). Kernel messages are below. Note the messages marked as logged while USB is unplugged occur continuously in a message loop that repeats every several seconds. The Ethernet controller’s reset pin is toggled each time it does.</p>
<p>I don’t see anything in the documentation that explains how we can correct this. There’s nothing in the target tools for USB power management and I don’t see any kernel configuration for it. How do we stop this behaviour? Ethernet is an essential feature for us.</p>
<p><strong>Kernel messages output on unplugging USB:</strong></p>
<p>[ 604.283163] msm_otg 78d9000.usb: Avail curr from USB = 2<br>
[ 604.283205] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_SUSPEND_EVENT received<br>
[ 604.283271] android_work: android_work: sent uevent USB_STATE=SUSPENDED<br>
[ 605.851363] diag: USB channel diag disconnected<br>
[ 605.853933] ch_notify on a closed smd_pkt_dev id:2<br>
[ 605.859225] android_work: android_work: sent uevent USB_STATE=DISCONNECTED<br>
[ 605.874101] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_DISCONNECT_EVENT received<br>
[ 605.882218] msm_otg 78d9000.usb: Avail curr from USB = 0<br>
[ 605.984447] QTI:LINK_DOWN Processed<br>
[ 605.999870] QTI:LINK_DOWN message posted<br>
[ 606.962275] msm_otg 78d9000.usb: USB in low power mode</p>
<p><strong>Message loop while USB disconnected:</strong> (not certain this is synched correctly to the first message of the series as it’s a continuous stream)</p>
<p>[ 609.109736] PM: suspend entry 2021-11-06 19:07:58.171225251 UTC<br>
[ 609.109769] PM: Syncing filesystems … done.<br>
[ 609.123830] PM: Preparing system for mem sleep<br>
[ 609.128637] Freezing user space processes … (elapsed 0.008 seconds) done.<br>
[ 609.136830] Freezing remaining freezable tasks … (elapsed 0.002 seconds) done.<br>
[ 609.139776] PM: Entering mem sleep<br>
[ 609.139804] Suspending console(s) (use no_console_suspend to debug)<br>
[ 609.168213] smsc95xx 1-1.1:1.0 eth0: disabling pattern match wakeup<br>
[ 609.168233] smsc95xx 1-1.1:1.0 eth0: enabling magic packet wakeup<br>
[ 609.169560] smsc95xx 1-1.1:1.0 eth0: entering SUSPEND0 mode<br>
[ 609.176059] msm_hsic_host 7c00000.hsic_host: HSIC-USB in low power mode<br>
[ 609.178259] PM: suspend of devices complete after 37.060 msecs<br>
[ 609.182488] PM: late suspend of devices complete after 4.184 msecs<br>
[ 609.185439] PM: noirq suspend of devices complete after 2.911 msecs<br>
[ 609.185539] suspend ns: 609185520521 suspend cycles: 49893343923<br>
[ 609.185520] CPU0:msm_cpu_pm_enter_sleep mode:3 during suspend<br>
[ 609.185520] resume cycles: 50054084305<br>
[ 609.187832] PM: noirq resume of devices complete after 1.656 msecs<br>
[ 609.190017] PM: early resume of devices complete after 1.766 msecs<br>
[ 609.193926] msm_hsic_host 7c00000.hsic_host: HSIC-USB exited from low power mode<br>
[ 609.370588] usb 1-1: reset high-speed USB device number 2 using msm_hsic_host<br>
[ 609.820463] usb 1-1.1: reset high-speed USB device number 3 using msm_hsic_host<br>
[ 610.028138] PM: resume of devices complete after 838.070 msecs<br>
[ 610.030447] PM: Finishing wakeup.<br>
[ 610.030468] Restarting tasks … done.<br>
[ 610.052499] sierra_pm_resume<br>
[ 610.053953] PM: suspend exit 2021-11-06 19:08:07.487110404 UTC</p>
<p><strong>Reconnection messages:</strong></p>
<p>[ 1949.162272] msm_otg 78d9000.usb: phy_reset: success<br>
[ 1949.264386] msm_otg 78d9000.usb: USB exited from low power mode<br>
[ 1949.267256] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_RESET_EVENT received<br>
[ 1949.267285] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_CONNECT_EVENT received<br>
[ 1949.271023] msm_otg 78d9000.usb: Avail curr from USB = 2<br>
[ 1949.271084] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_SUSPEND_EVENT received<br>
[ 1949.412196] msm_hsusb msm_hsusb: CI13XXX_CONTROLLER_RESUME_EVENT received<br>
[ 1949.412340] msm_otg 78d9000.usb: Avail curr from USB = 100<br>
[ 1949.412569] android_work: android_work: did not send uevent (0 0 00000000)<br>
[ 1949.539127] android_work: android_work: sent uevent USB_STATE=CONNECTED<br>
[ 1949.543816] android_work: android_work: sent uevent USB_STATE=DISCONNECTED<br>
[ 1949.687066] android_work: android_work: sent uevent USB_STATE=CONNECTED<br>
[ 1949.703885] android_usb gadget: high-speed config <span class="hashtag">#1:</span> 86000c8.android_usb<br>
[ 1949.703960] diag: USB channel diag connected<br>
[ 1949.704135] msm_otg 78d9000.usb: Avail curr from USB = 500<br>
[ 1949.763453] android_work: android_work: sent uevent USB_STATE=CONFIGURED<br>
[ 1950.581172] smsc95xx 1-1.1:1.0 eth0: link up, 100Mbps, full-duplex, lpa 0x45E1<br>
[ 1950.720399] QTI:USB tethered modem SMD port opened<br>
[ 1951.040437] QTI:LINK_UP Processed<br>
[ 1951.051915] QTI:ECM mode<br>
[ 1951.066238] QTI:LINK_UP message posted</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/jyijyi'><span itemprop='name'>jyijyi</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-07T07:31:08Z' class='post-time'>
                    November 7, 2021,  7:31am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-07T07:31:08Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>How about using the following command to make module stay awake when usb disconnect?</p>
<p>echo NO_SLEEP &gt; /sys/power/wake_lock</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/davidkeenleyside'><span itemprop='name'>davidkeenleyside</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-10T20:50:52Z' class='post-time'>
                    November 10, 2021,  8:50pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-10T20:50:52Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>That worked, thanks. Having got that working now there’s still a couple of things that aren’t:</p>
<ul>
<li>
<p>There’s no external internet connectivity over eth0. We can ping it and ssh to it, but nothing outbound works. We checked and the Ethernet LAN’s DNS servers are listed in /etc/resolv.conf. Don’t know what else to look for or try.</p>
</li>
<li>
<p>The setNet tool option to create a fixed MAC address doesn’t seem to be reliable. It creates entries in /etc/network/interfaces (see below) but they seem to be ignored by Linux or Legato (whichever one it is that actually assigns the address). Neither option below works, the address changes anyway.</p>
</li>
</ul>
<p>auto eth0<br>
iface eth0 inet dhcp<br>
hwaddress ether B6:EB:A5:03:DD:3D</p>
<p>auto eth0<br>
iface eth0 inet static<br>
hwaddress ether 72:07:6A:FF:43:24<br>
address 10.0.0.237<br>
netmask 255.255.255.0<br>
gateway 10.0.0.1<br>
nameserver 64.71.255.204,64.71.255.198</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/jyijyi'><span itemprop='name'>jyijyi</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-10T23:47:41Z' class='post-time'>
                    November 10, 2021, 11:47pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-10T23:47:41Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>You can try</p>
<p>udhcpc -i eth0</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/davidkeenleyside'><span itemprop='name'>davidkeenleyside</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-11T21:31:11Z' class='post-time'>
                    November 11, 2021,  9:31pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-11T21:31:11Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>That worked, thanks once again. And the issue we were having with the setNet tool went away after we reinstalled Legato. The only thing we’re seeing now is Ethernet is inactive after a soft reboot, it requires a full power cycle to get it working again. Is there a configuration change we can make that would change that, maybe something we can add to a startup file?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.mangoh.io/u/jyijyi'><span itemprop='name'>jyijyi</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="https://forum.mangoh.io/t/eth0-disconnects-when-ecm0-does/9748">

                <link itemprop="image" href="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/0769edef158f9b8e088d3b63e9fc4ef0d66bf277.jpeg">

              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-12T01:17:22Z' class='post-time'>
                    November 12, 2021,  1:17am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-12T01:18:57Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>you can run an unsandboxed legato application to send linux command:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://forum.legato.io/t/invoking-shell-scripts-from-legato-app/5575/4">
  <header class="source">
      <img src="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/252837692301bb53b7d4b8041901ad6486ced526.png" class="site-icon" width="32" height="32">

      <a href="https://forum.legato.io/t/invoking-shell-scripts-from-legato-app/5575/4" target="_blank" rel="noopener nofollow ugc" title="02:43AM - 19 January 2021">Legato Forum – 19 Jan 21</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:666/500;"><img src="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/0769edef158f9b8e088d3b63e9fc4ef0d66bf277.jpeg" class="thumbnail" width="666" height="500" data-small-upload="https://global.discourse-cdn.com/business6/uploads/mangoh/optimized/1X/0769edef158f9b8e088d3b63e9fc4ef0d66bf277_2_10x10.png"></div>

<h3><a href="https://forum.legato.io/t/invoking-shell-scripts-from-legato-app/5575/4" target="_blank" rel="noopener nofollow ugc">Invoking shell scripts from Legato app</a></h3>

  <p>I don’t see problem on WP76 FW R13.  You can use my hello6.tar.gz.  hello6.tar.gz (314.7 KB)  root@swi-mdm9x28-wp:~# chmod 777 /tmp/test.sh  root@swi-mdm9x28-wp:~# /tmp/test.sh  root@swi-mdm9x28-wp:~# ls /tmp/123.txt  /tmp/123.txt ...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>you can also modify init script /etc/init.d/startlegato.sh:</p><aside class="onebox allowlistedgeneric" data-onebox-src="https://forum.legato.io/t/adding-scripts-to-run-at-startup/2412/6">
  <header class="source">
      <img src="https://global.discourse-cdn.com/business6/uploads/mangoh/original/1X/252837692301bb53b7d4b8041901ad6486ced526.png" class="site-icon" width="32" height="32">

      <a href="https://forum.legato.io/t/adding-scripts-to-run-at-startup/2412/6" target="_blank" rel="noopener nofollow ugc" title="05:24PM - 31 July 2018">Legato Forum – 31 Jul 18</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:676/500;"><img src="https://global.discourse-cdn.com/business6/uploads/mangoh/original/2X/4/400f70f82a5b45f371bcafc676a1f9d369fab7f5.jpeg" class="thumbnail" width="676" height="500" data-small-upload="https://global.discourse-cdn.com/business6/uploads/mangoh/optimized/2X/4/400f70f82a5b45f371bcafc676a1f9d369fab7f5_2_10x10.png"></div>

<h3><a href="https://forum.legato.io/t/adding-scripts-to-run-at-startup/2412/6" target="_blank" rel="noopener nofollow ugc">Adding scripts to run at startup</a></h3>

  <p>Hi JyiJyi,  I appreciate your previous reply to my post, but I attempted to make the changes that you recommended and am still unable to launch the script on boot. I have included a screenshot of several simple shell commands that I entered into...</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
